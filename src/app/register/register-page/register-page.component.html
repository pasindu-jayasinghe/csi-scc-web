

<div class="container pl-16 pr-16">
  <form #fData="ngForm" (ngSubmit)="saveForm(fData)" >
    <div class="card mt-3">
        <div class="p-grid p-fluid col-sm-12">
          <div class="p-2">
            <h6>Unit Details</h6>
          </div>
          <div class="row p-2">
            <div class="col-12 col-md-6">
              <div class="p-field">
                <label for="institute">Unit</label>
                <app-unit-select [isView]="!isCSIUser" [unit]="unitDetail.unit" (onUpdateUnit)="onUpdateUnit($event)"></app-unit-select>                            
              </div>
            </div>
        
            <div class="col-12 col-md-6">
              <div class="p-field">
                <label for="contatname">Code*</label>
                <input
                  type="text"                  
                  maxlength="50"
                  [(ngModel)]="unitDetail.code"
                  placeholder="Code Name"
                  name="contatname"
                  field="contatname"
                  class="p-inputtext"
                  required
                />                          
              </div>
            </div>
          </div>

          <div class="row p-2"> 
            <div class="col-12 col-md-6">
              <div class="p-field">
                <label for="contatemail">Email*</label>
                <input
                  [(ngModel)]="unitDetail.email"
                  pattern="[\w-\.]+@([\w-]+\.)+[\w-]{1,30}$"
                  type="text"
                  maxlength="30"
                  placeholder="Email"
                  name="contatemail"
                  class="p-inputtext"
                  pInputText                  
                  required
                />            
                <p class="info-message text-danger"></p>
              </div>
            </div>
        
            <div class="col-12 col-md-6">
              <div class="p-field">
                <label for="designation">Address*</label>
                <input
                  type="text"
                  [(ngModel)]="unitDetail.address"
                  maxlength="30"
                  placeholder="Address"
                  name="designation"
                  class="p-inputtext"        
                  pattern="^[a-zA-Z0-9/,]{1,64}$"
                  pInputText
                />              
              </div>
            </div>          
          </div>

          <div class="row p-2">
            <div class="col-12 col-md-6">
              <div class="p-field">
                <label for="institution">Employees*</label>
                <input
                  type="text"
                  [(ngModel)]="unitDetail.employees"
                  maxlength="50"
                  placeholder="Num of E    mployees"
                  name="institution"
                  class="p-inputtext"                  
                  pattern="^[a-zA-Z0-9 ]{1,64}$"
                  pInputText
                />          
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="p-field">
                <label for="mobileNumber">Mobile Number</label>
                <p-inputMask
                  type="text"
                  [(ngModel)]="unitDetail.telephone"
                  name="mobileNumber"
                  mask="+99 99-999-9999"
                  [autoClear]="false"
                  placeholder="+99 999 999-9999"
                  [styleClass]="'form-control'"
                ></p-inputMask>
              </div>
            </div>
          </div>
        
          <div class="row p-2">

          <div class="col-12 col-md-6">
            <div class="p-field">
              <label for="unitlogo">Unit Logo</label>
              <app-file-uploader
                  *ngIf="unitDetail.id"
                  [rootUrl]="imageUrl"
                  [data]="getLogo()"
                  [multiple]="false"
                  [deletable]="true"
                  (onChangeFile)="onAddFile($event)"
                  (onDeleteFile)="onRemoveFile($event)"
              ></app-file-uploader>
              <app-file-uploader
                *ngIf="!unitDetail.id"
                [multiple]="false"
                [deletable]="true"
                (onChangeFile)="onAddFile($event)"
                (onDeleteFile)="onRemoveFile($event)"
            ></app-file-uploader>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex flex-row-reverse mt-15">
      <button pButton pRipple type="button" label="Back" (click)="onBackClick()"></button>
      <button pButton pRipple label="Submit" style="margin-right: 10px"type="submit"></button>
    </div>
  </form>
</div>