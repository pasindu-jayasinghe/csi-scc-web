<div class="container pl-20 pr-20">
    <h4 class="mt-4">Activity log</h4>
    <div class="p-grid p-fluid card">

      <div class="row mb-3">
        <div class="col-md-4">
          <div class="col-12">
            <div class="p-field">
              <label for="projStatus">Email / User Type / Action / Path</label>
              <input
                placeholder="Email"
                [(ngModel)]="searchBy.text"
                #nameClimate="ngModel"
                type="text"
                name="nameAudit"
                class="p-inputtext"
                pInputText
              />
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="col-12">
            <div class="p-field">
              <label for="projStatus">User Type</label>
              <p-dropdown
                name="usertype"
                [options]="userTypeList"
                [(ngModel)]="searchBy.usertype"
                #fsector="ngModel"
                [showClear]="true"
                [filter]="true"
                placeholder="Select .."
                appendTo="body"
                optionLabel="name"
                optionValue="code"
              >
              </p-dropdown>
            </div>
          </div>
        </div>

        <!-- <div class="col-md-4">
          <div class="col-12">
            <div class="p-field">
              <label for="projStatus">Action</label>
              <p-dropdown
                name="usertype"
                [options]="userTypeList"
                [(ngModel)]="searchBy.usertype"
                #fsector="ngModel"
                [showClear]="true"
                [filter]="true"
                placeholder="Select .."
                appendTo="body"
                optionLabel="name"
                optionValue="code"
              >
              </p-dropdown>
            </div>
          </div>
        </div> -->
      </div>

      <div class="row mb-5">
        
        <div class="col-md-4">
          <div class="p-field">
            <label for="projStatus">Date From</label>
            <p-calendar    
                [showClear]="true"          
                [showTime]="true"
                #propsedDate="ngModel"
                [(ngModel)]="searchBy.from"
                appendTo="body"
            ></p-calendar>
          </div>
        </div>

        <div class="col-md-4">
          <div class="p-field">
            <label for="projStatus">Date To</label>
            <p-calendar              
                [showTime]="true"
                #propsedDate="ngModel"
                [(ngModel)]="searchBy.to"
                appendTo="body"
            ></p-calendar>
          </div>
        </div>
        <div class="col-md-4" style="padding-top: 21px;">
          <div class="p-field">
            <label for="projStatus"></label>
            <button
              type="button"
              pButton
              pRipple
              label="Search"
              (click)="onSearch()"
            ></button>
          </div>
        </div>
  
        
      </div>
  
      <div>
        <p-table
          #table
          [value]="activities"
          [lazy]="true"
          [paginator]="true"
          [rows]="rows"
          [showCurrentPageReport]="true"
          paginatorDropdownAppendTo="body"
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
          [rowsPerPageOptions]="[10, 25, 50]"
          [totalRecords]="totalRecords"
          [loading]="loading"
          [responsive]="true"
        >
  
          <ng-template pTemplate="header">
            <tr>              
              <th>NAME</th>
              <th>USER TYPE</th>
              <th>ACTION</th>
              <th>DATE</th>
              <th>PATH</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-activities>
            <tr>          
              <td>{{ activities.userName }}</td>
              <td>{{ getTyserTypes(activities.userType) }}</td>
              <td>{{ activities.action }}</td>
              <td>{{ activities.logDate | date:'short' }}</td>
              <td>{{ activities.description}}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
  